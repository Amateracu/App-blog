<form class="card" [formGroup]="form" (ngSubmit)="submit()">

  <h2>Войти в Панель управления</h2>
  <div class="alert alert-danger" *ngIf="auth.error$ |async as error">
    {{error}}
  </div>
  <div class="alert alert-info" *ngIf="message">
    {{message}}
  </div>

  <div class="form-group">
    <div
      class="form-control"
      [ngClass]="{invalid: form.get('email')?.touched && form.get('email')?.invalid}"
      >
      <label for="email">Email:</label>
      <input
        type="email"
        id="email"
        formControlName="email"
        >
      <div
        *ngIf="form.get('email')?.touched && form.get('email')?.invalid"
        class="validation"
      >
        <small
          *ngIf="form.get('email')?.errors?.required"
        >Поле не может быть пустым</small>
        <small
        *ngIf="form.get('email')?.errors?.email"
      >Некорретный Email</small>
      </div>
    </div>

    <div
      class="form-control"
      [ngClass]="{invalid: form.get('password')?.touched && form.get('password')?.invalid}"
      >
      <label for="password">Пароль:</label>
      <input
        type="password"
        id="password"
        formControlName="password"
        >
      <div
        class="validation"
        *ngIf="form.get('password')?.touched && form.get('password')?.invalid"
      >
        <small *ngIf="form.get('password')?.errors?.required">
          Поле не может быть пустым
        </small>
        <small *ngIf="form.get('password')?.errors?.minlength">
          Пароль должен быть больше 6 символов
        </small>
      </div>
    </div>

    <button
      type="submit"
      class="btn btn-primary"
      [disabled]="form.invalid || submitted"
      >Войти</button>
  </div>

</form>
